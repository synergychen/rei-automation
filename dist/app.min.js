(()=>{var __webpack_modules__={489:e=>{class t{constructor(){}get summary(){return{address:this.address,zipcode:this.zipcode,price:this.price,bedrooms:this.bedrooms,bathrooms:this.bathrooms,yearBuilt:this.yearBuilt,sqft:this.sqft,daysOnMarket:this.daysOnMarket,propertyTaxes:this.propertyTaxes,homeType:this.homeType}}get property(){}get zipcode(){}get address(){}get price(){}get bedrooms(){}get bathrooms(){}get yearBuilt(){}get sqft(){}get propertyTaxes(){}get daysOnMarket(){}get homeType(){}parseValue(e){return parseInt(e.replace(/\$|,/g,""))}}e.exports={PropertyParser:t,ZillowPropertyParser:class extends t{get property(){}get address(){return document.querySelector(".summary-container h1").innerText}get zipcode(){const e=(this.address||"").match(/\d{5}$/);return e?e[0]:"N/A"}get price(){return this.parseValue(document.querySelector(".summary-container [data-testid='price']").innerText)}get bedrooms(){const e=document.querySelector('[data-testid="bed-bath-beyond"]').innerText.match(/(\d) bd/);return e?parseInt(e[1]):-1}get bathrooms(){const e=document.querySelector('[data-testid="bed-bath-beyond"]').innerText.match(/(\d) ba/);return e?parseInt(e[1]):-1}get yearBuilt(){const e=document.querySelector(".ds-data-view-list").innerText.match(/built in (\d{4})/i);return e?parseInt(e[1]):-1}get sqft(){const e=document.querySelector('[data-testid="bed-bath-beyond"]').innerText.match(/([\d|,]{4,7}) sqft/);return e?this.parseValue(e[1]):-1}get propertyTaxes(){const e=document.querySelector(".ds-data-view-list").innerText.replaceAll("\n","").match(/property taxes\$([\d|,]+)/i);return e?this.parseValue(e[1]):-1}get daysOnMarket(){const e=document.querySelector(".ds-data-view-list").innerText.replaceAll("\n","").match(/([\d|,]+) dayson zillow/i);return e?this.parseValue(e[1]):-1}get homeType(){const e=document.querySelector(".data-view-container").innerText.match(/single family residence|townhouse|triplex|duplex/gi);return e?e[0]:"N/A"}}}},981:()=>{},104:e=>{e.exports={RentParser:class{constructor(){this.parse()}parse(){this.zipcode=this.parseZipcode(),this.bedrooms=this.parseBedrooms(),this.average=this.parseAverage(),this.median=this.parseMedian(),this.pct25th=this.parse25th(),this.pct75th=this.parse75th(),this.dataPoints=this.parseDataPoints()}summary(){const e=document.querySelector(".search-type-tab.active a").innerText.trim();return e.match(/zip code/i)?this.summaryForZipcode():e.match(/address/i)?this.summaryForAddress():{}}summaryCsvData(){const e=this.summary();return[[e.zipcode,e.bedrooms,e.average,e.median,e["25th"],e["75th"],e.data_points]]}summaryForAddress(){return{address:this.address,bedrooms:this.bedrooms,average:this.average,median:this.average,"25th":this.pct25th,"75th":this.pct75th,data_points:this.dataPoints}}summaryForZipcode(){return{zipcode:this.zipcode,bedrooms:this.bedrooms,average:this.average,median:this.average,"25th":this.pct25th,"75th":this.pct75th,data_points:this.dataPoints}}parseZipcode(){const e=document.querySelector("h3.result-address-header").innerText.replace(/quickview/i,"").trim().match(/\d{5}$/);return e&&e[0]}parseBedrooms(){return parseInt(document.querySelector("select#zip_unified_search_bed_style").value)}parseAverage(){return this.parseValue(document.querySelector("[title='Sample Mean']").innerText)}parseMedian(){return this.parseValue(document.querySelector("[title='Sample Median']").innerText)}parse25th(){return this.parseValue(document.querySelector("[title^='This is the estimated value of the 25th']").innerText)}parse75th(){return this.parseValue(document.querySelector("[title^='This is the estimated value of the 75th']").innerText)}parseDataPoints(){const e=document.querySelector("#active-results-container").innerText.replaceAll("\n","").match(/Results based on (\d+), .* within (\d+) months/);return parseInt(e[1])}parseValue(e){return parseInt(e.replaceAll("$","").replaceAll(",",""))}}}},513:()=>{},643:module=>{class Property{static variables=["address","city","state","zipcode","homeType","price","bedrooms","bathrooms","yearBuilt","sqft","daysOnMarket","propertyTaxes","estimatedRent","estimatedRentToPrice"];constructor({address=null,city=null,state=null,zipcode=null,homeType=null,price=null,bedrooms=null,bathrooms=null,yearBuilt=null,sqft=null,daysOnMarket=null,propertyTaxes=null,estimatedRent=null,estimatedRentToPrice=null}={}){for(const variable of Property.variables)this["_"+variable]=eval(variable),Object.defineProperty(this,variable,{get(){return this[`_${variable}`]},set(e){this[`_${variable}`]=e}})}get valid(){return this.address.length>5&&this.bedrooms>0&&this.price>0}update(){this._estimatedRentToPrice=this.rentToPrice();const{city:e,state:t,zipcode:r}=this.parseAddress();this._city=e,this._state=t,this._zipcode=this._zipcode||r}toJSON(){const e={};for(const t in this)t.startsWith("_")&&(e[t.substring(1)]=this[t]);return e}get estimatedRentToPricePercent(){return parseFloat((100*this.estimatedRentToPrice).toFixed(2))}rentToPrice(){return this.estimatedRent<=0||this.price<=0?-1:this.estimatedRent/this.price}parseAddress(){if(!this._address)return{};try{const e=this._address.split(",").map((e=>e.trim())),t=e&&e[1],r=e[2].match(/\d{5}$/),a=r&&r[0],s=e[2].match(/\w{2}/);return{city:t,state:s&&s[0],zipcode:a}}catch(e){return console.log(e),{}}}isGoodDeal(e=.7){if(!(this.rentToPrice()<0))return this.rentToPrice()>=e/100}}module.exports={Property}},324:e=>{e.exports={Zillow:class{constructor(e=null){this.rawData=e,this.dataMapping={zpid:"hdpData.homeInfo.zpid",type:"statusType",address:this._fetchAddress,zipcode:"hdpData.homeInfo.zipcode",city:"hdpData.homeInfo.city",state:"hdpData.homeInfo.state",url:this._fetchUrl,price:"hdpData.homeInfo.price",bedrooms:"hdpData.homeInfo.bedrooms",bathrooms:"hdpData.homeInfo.bathrooms",homeSize:"hdpData.homeInfo.livingArea",lotSize:this._fetchLotSize,homeType:"hdpData.homeInfo.homeType",yearBuilt:"",latitude:"hdpData.homeInfo.latitude",longitude:"hdpData.homeInfo.longitude",taxAssessedValue:"hdpData.homeInfo.taxAssessedValue",zestimate:"hdpData.homeInfo.zestimate",rentZestimate:"hdpData.homeInfo.rentZestimate",updatedAt:this._fetchUpdatedAt}}fetch(e){const t=this.jsonDataUrlFor(e);return fetch(t).then((e=>e.json())).then((e=>(this.rawData=e,e)))}summaryCsvData(){const{address:e,bedrooms:t,average:r,median:a,average_size:s,median_size:i,data_points:n}=this.summary();return[[e,t,r,a,s,i,n]]}summary(){const e=this.mappedData();return{address:e.find((e=>e.zipcode.match(/^\d{5}$/)))&&e.find((e=>e.zipcode.match(/^\d{5}$/))).zipcode,bedrooms:e.find((e=>e.bedrooms>0))&&e.find((e=>e.bedrooms>0)).bedrooms,average:this.averagePrice(e),median:this.medianPrice(e),"25th":this.median25thPrice(e),"75th":this.median75thPrice(e),average_size:this.averageSize(e),median_size:this.medianSize(e),data_points:this.dataPoints(e)}}query(){if(!this.rawData)return"";const e=(this.rawData.searchPageSeoObject&&this.rawData.searchPageSeoObject.windowTitle).match(/^(.+) Real Estate/);return e&&e[1]}csvData(){return this.mappedData().map((e=>Object.values(e)))}jsonDataUrlFor(e){return`https://www.zillow.com/search/GetSearchPageState.htm?${e.match(/(.+)\?(.+)/)[2]}&wants={%22cat1%22:[%22listResults%22,%22mapResults%22]}&requestId=3`}averagePrice(e){const t=e.map((e=>parseInt(e.price))).filter((e=>e>0));return this._average(t)}medianPrice(e){const t=e.map((e=>parseInt(e.price))).filter((e=>e>0));return this._median(t)}median25thPrice(e){const t=e.map((e=>parseInt(e.price))).filter((e=>e>0));return this._median25th(t)}median75thPrice(e){const t=e.map((e=>parseInt(e.price))).filter((e=>e>0));return this._median75th(t)}averageSize(e){const t=e.map((e=>parseInt(e.homeSize))).filter((e=>e>0));return this._average(t)}medianSize(e){const t=e.map((e=>parseInt(e.homeSize))).filter((e=>e>0));return this._median(t)}dataPoints(e){return e.map((e=>parseInt(e.price))).filter((e=>e>0)).length}_average(e){if(0===e.length)return-1;const t=e.reduce(((e,t)=>e+t))/e.length;return 1e3*Math.round(t/1e3)}_median(e){if(0==e.length)return-1;e.sort(((e,t)=>e-t));const t=Math.floor(e.length/2);return e.length%2==1?e[t]:(e[t-1]+e[t])/2}_median25th(e){return 0==e.length?-1:(e.sort(((e,t)=>e-t)),e[Math.ceil(.25*e.length)-1])}_median75th(e){return 0==e.length?-1:(e.sort(((e,t)=>e-t)),e[Math.ceil(.75*e.length)-1])}mappedData(){const e=this._getMapResults();return this._getMappedMapResults(e)}_getMapResults(){return this._getDataByPath(this.rawData,"cat1.searchResults.mapResults")}_getMappedMapResults(e){const t=[];for(let r=0;r<e.length;r++){let a={};Object.keys(this.dataMapping).forEach((t=>{const s=this.dataMapping[t];a[t]=this._getDataByPath(e[r],s)})),t.push(a)}return t}_getDataByPath(e,t){switch(typeof t){case"string":const r=t.split(".");if(0===r.length)return"-";for(let t=0;t<r.length;t++){if(!e)return"-";e=e[r[t]]}return e;case"function":return t.bind(this)(e);default:return t}}_fetchAddress(e){return e.detailUrl.split("/")[2].replaceAll("-"," ")}_fetchUrl(e){return e.detailUrl?"https://www.zillow.com"+e.detailUrl:""}_fetchLotSize(e){const t=this._getDataByPath(e,"hdpData.homeInfo.lotAreaValue"),r=this._getDataByPath(e,"hdpData.homeInfo.lotAreaUnit");return"sqft"===r?t:"acres"===r?Math.floor(43560*t):"-"}_fetchUpdatedAt(e){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}}}},389:e=>{class t{static VERSION=3;static INTERESTED=1;static NOT_INTERESTED=-1;static IS_DEAL=1;static async create(e="rei"){const r=new t(e);return await r.openDatabase(),r}constructor(e="rei"){this.databaseName=e}async properties(){return await this.getAllData("property")}async hasProperty(e){return!!await this.findProperty(e)}async findProperty(e){return await this.read("property",e)}async addProperty(e){return!!await this.write("property",e.address,e)}async removeProperty(e){return!!await this.remove("property",e)}async interested(){return(await this.getAllData("interested")).map((e=>e.address))}async isInterested(e){const r=await this.read("interested",e);return!!r&&r.interested===t.INTERESTED}async isNotInterested(e){const r=await this.read("interested",e);return!!r&&r.interested===t.NOT_INTERESTED}async interest(e){return await this.write("interested",e,{interested:t.INTERESTED})}async uninterest(e){return await this.remove("interested",e)}async resetInterested(){return await this.clearTable("interested")}async deals(){return(await this.getAllData("deal")).map((e=>e.address))}async isDeal(e){const r=await this.read("deal",e);return!!r&&r.deal===t.IS_DEAL}async addDeal(e){return await this.write("deal",e,{deal:t.IS_DEAL})}async removeDeal(e){return await this.remove("deal",e)}async getAllData(e){return new Promise(((t,r)=>{const a=this.db.transaction([e]).objectStore(e).getAll();a.onsuccess=e=>{t(e.target.result)},a.onerror=e=>{r(e.error)}}))}async openDatabase(){return new Promise(((e,r)=>{const a=indexedDB.open(this.databaseName,t.VERSION);a.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains("interested")||t.createObjectStore("interested",{keyPath:"address"}),t.objectStoreNames.contains("property")||t.createObjectStore("property",{keyPath:"address"}),t.objectStoreNames.contains("deal")||t.createObjectStore("deal",{keyPath:"address",autoIncrement:!0})},a.onsuccess=t=>{this.db=t.target.result,e(this.db)},a.onerror=e=>{console.error("Error opening database",e),r(e.target.error)}}))}async read(e,t){return new Promise(((r,a)=>{const s=this.db.transaction([e]).objectStore(e).get(this.normalizeAddress(t));s.onsuccess=e=>{r(e.target.result)},s.onerror=e=>{a(e.error)}}))}async write(e,t,r){return new Promise(((a,s)=>{const i=this.db.transaction([e],"readwrite").objectStore(e).put({...r,address:this.normalizeAddress(t)});i.onsuccess=e=>{a(e.target.result)},i.onerror=e=>{s(e.error)}}))}async remove(e,t){this.db.transaction([e],"readwrite").objectStore(e).delete(this.normalizeAddress(t)),console.log(`Record with key ${t} has been removed from ${e}.`)}async clearTable(e){return new Promise(((t,r)=>{const a=this.db.transaction([e],"readwrite").objectStore(e).clear();a.onsuccess=e=>{t()},a.onerror=e=>{r(e.error)}}))}normalizeAddress(e){return e.replace(/\u00A0/g," ")}}e.exports={Storage:t}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__(389),__webpack_require__(324),__webpack_require__(643),__webpack_require__(513),__webpack_require__(104),__webpack_require__(981);var __webpack_exports__=__webpack_require__(489),__webpack_export_target__=window;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})();