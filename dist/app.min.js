(()=>{var __webpack_modules__={588:(e,t,r)=>{const s=r(65),a=r(203),n=function e(t){if("function"!=typeof s.readdirSync)return[];const r=s.readdirSync(t,{withFileTypes:!0}),n=r.filter((e=>e.isFile()&&".js"===a.extname(e.name))).map((e=>a.join(t,e.name))),i=r.filter((e=>e.isDirectory()));for(const r of i){const s=e(a.join(t,r.name));n.push(...s)}return n}("./src");var i,o,c;i="src/app.js",o="paths",c=n,s.readFile(i,"utf8",((e,t)=>{if(e)throw e;const r=new RegExp(o+"\\s*=\\s*\\[([\\s\\S]*?)\\]","g").exec(t);if(!r)throw new Error(`Variable ${o} not found`);t=t.replace(r[0],`${o} = ${JSON.stringify(c,null,2)}`),s.writeFile(i,t,"utf8",(e=>{if(e)throw e;console.log(`Variable ${o} replaced successfully`)}))}))},672:(e,t,r)=>{["src/app.js","src/db/storage.js","src/models/deal.js","src/models/property.js","src/models/rent.js","src/services/zillow.js","src/utils/constants.js","src/utils/deal_analyzer.js","src/utils/helpers.js","src/utils/renderer.js","src/utils/session.js","src/utils/summary.js","src/utils/annotators/home_details_annotator.js","src/utils/annotators/map_annotator.js","src/utils/parsers/home_details_parser.js","src/utils/parsers/rent_parser.js"].forEach((t=>{const s=r(454)("./"+t);Object.assign(e.exports,s)}))},800:e=>{class t{static VERSION=4;static INTERESTED=1;static NOT_INTERESTED=-1;static IS_DEAL=1;static instance=null;static async create(e="rei"){return t.instance||(console.log("Create new Storage instance"),t.instance=new t(e),await t.instance.openDatabase()),t.instance}constructor(e="rei"){this.databaseName=e}async properties(){return await this.getAllData("property")}async hasProperty(e){return!!await this.findProperty(e)}async findProperty(e){return await this.read("property",e)}async addProperty(e){return this.updateProperty(e)}async updateProperty(e){return!!await this.write("property",e.address,e)}async removeProperty(e){return!!await this.remove("property",e)}async interested(){return(await this.getAllData("interested")).map((e=>e.address))}async isInterested(e){const r=await this.read("interested",e);return!!r&&r.interested===t.INTERESTED}async isNotInterested(e){const r=await this.read("interested",e);return!!r&&r.interested===t.NOT_INTERESTED}async interest(e){return await this.write("interested",e,{interested:t.INTERESTED})}async uninterest(e){return await this.remove("interested",e)}async resetInterested(){return await this.clearTable("interested")}async deals(){return(await this.getAllData("deal")).map((e=>e.address))}async isDeal(e){const r=await this.read("deal",e);return!!r&&r.deal===t.IS_DEAL}async addDeal(e){return await this.write("deal",e,{deal:t.IS_DEAL})}async removeDeal(e){return await this.remove("deal",e)}async rents(){return await this.getAllData("rent")}async hasRent(e){return!!await this.read("rent",e)}async findRents(e){const t=await this.read("rent",e);return t?t.rents:null}async findRent(e,t){const r=await this.read("rent",e);return r?r.rents.find((e=>e.source===t)):null}async addRent(e){const t=e.address||e.zipcode,r=await this.read("rent",t);if(r){const s=r.rents,a=s.findIndex((t=>t.source===e.source));return-1!==a?s[a]=e:s.push(e),await this.write("rent",t,{rents:s})}return await this.write("rent",t,{rents:[e]})}async removeRent(e){return await this.remove("rent",e)}async getAllData(e){return new Promise(((t,r)=>{const s=this.db.transaction([e]).objectStore(e).getAll();s.onsuccess=e=>{t(e.target.result)},s.onerror=e=>{r(e.error)}}))}async openDatabase(){return new Promise(((e,r)=>{const s=indexedDB.open(this.databaseName,t.VERSION);s.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains("interested")||t.createObjectStore("interested",{keyPath:"address"}),t.objectStoreNames.contains("property")||t.createObjectStore("property",{keyPath:"address"}),t.objectStoreNames.contains("deal")||t.createObjectStore("deal",{keyPath:"address",autoIncrement:!0}),t.objectStoreNames.contains("rent")||t.createObjectStore("rent",{keyPath:"address",autoIncrement:!0})},s.onsuccess=t=>{this.db=t.target.result,e(this.db)},s.onerror=e=>{console.error("Error opening database",e),r(e.target.error)}}))}async read(e,t){return new Promise(((r,s)=>{const a=this.db.transaction([e]).objectStore(e).get(this.normalizeAddress(t));a.onsuccess=e=>{r(e.target.result)},a.onerror=e=>{s(e.error)}}))}async write(e,t,r){return new Promise(((s,a)=>{const n=this.db.transaction([e],"readwrite").objectStore(e).put({...r,address:this.normalizeAddress(t)});n.onsuccess=e=>{s(e.target.result)},n.onerror=e=>{a(e.error)}}))}async remove(e,t){this.db.transaction([e],"readwrite").objectStore(e).delete(this.normalizeAddress(t)),console.log(`Record with key ${t} has been removed from ${e}.`)}async clearTable(e){return new Promise(((t,r)=>{const s=this.db.transaction([e],"readwrite").objectStore(e).clear();s.onsuccess=e=>{t()},s.onerror=e=>{r(e.error)}}))}normalizeAddress(e){return e.replace(/\u00A0/g," ")}}e.exports={Storage:t}},537:(e,t,r)=>{const{Property:s}=r(643),{Rent:a}=r(326);class n{static RENT_TO_PRICE_PERCENT_THRESHOLD=.7;constructor({property:e,rents:t=[],percentThreshold:r=n.RENT_TO_PRICE_PERCENT_THRESHOLD}){this.property=new s(e),this.rents=t.map((e=>new a(e))),this.percentThreshold=r}isGood(){for(const e of this.rents)if(this._isGood(e,this.property))return!0;return!1}_isGood(e,t){if(!(this._rentToPrice(e,t)<0))return this._rentToPrice(e,t)>=this.percentThreshold/100}_rentToPrice(e,t){return e.median<=0||t.price<=0?-1:e.median/t.price}}e.exports={Deal:n}},643:(module,__unused_webpack_exports,__webpack_require__)=>{const{PROPERTY_ATTRIBTUES}=__webpack_require__(559);class Property{static TWO_BEDS_MEDIAN_SIZE=1300;static THREE_BEDS_MEDIAN_SIZE=1600;static FOUR_BEDS_MEDIAN_SIZE=1900;constructor({address=null,city=null,state=null,zipcode=null,homeType=null,price=null,bedrooms=null,bathrooms=null,yearBuilt=null,sqft=null,daysOnMarket=null,propertyTaxes=null}={}){for(const variable of PROPERTY_ATTRIBTUES)this[variable]=eval(variable);this.update()}get valid(){return this.address.length>5&&this.bedrooms>0&&this.price>0}update(){const{city:e,state:t,zipcode:r}=this.parseAddress();this.city=e,this.state=t,this.zipcode=this.zipcode||r}parseAddress(){if(!this.address)return{};try{const e=this.address.split(",").map((e=>e.trim())),t=e&&e[1],r=e[2].match(/\d{5}$/),s=r&&r[0],a=e[2].match(/\w{2}/);return{city:t,state:a&&a[0],zipcode:s}}catch(e){return console.log(e),{}}}isLargeSize(){switch(this.bedrooms){case 2:if(this.sqft>=Property.THREE_BEDS_MEDIAN_SIZE)return!0;break;case 3:if(this.sqft>=Property.FOUR_BEDS_MEDIAN_SIZE)return!0;break;case 4:if(this.sqft>=Property.FOUR_BEDS_MEDIAN_SIZE+300)return!0}return!1}isSmallSize(){switch(this.bedrooms){case 2:if(this.sqft<Property.TWO_BEDS_MEDIAN_SIZE-300)return!0;break;case 3:if(this.sqft<Property.TWO_BEDS_MEDIAN_SIZE)return!0;break;case 4:if(this.sqft<Property.THREE_BEDS_MEDIAN_SIZE)return!0}return!1}}module.exports={Property}},326:e=>{class t{static RENTOMETER="Rentometer";static BIGGER_POCKETS="BiggerPockets";static ZILLOW="Zestimate";constructor({address:e=null,zipcode:t=null,average:r=null,median:s=null,pct25th:a=null,pct75th:n=null,count:i=null,source:o=null}={}){this.address=e,this.zipcode=t,this.average=r,this.median=s,this.pct25th=a,this.pct75th=n,this.count=i,this.source=o}get key(){return this.zipcode&&!this.address?`${this.zipcode}|${this.source}`:!this.zipcode&&this.address?`${this.address}|${this.source}`:void 0}setRentometer(){this.source=t.RENTOMETER}setBiggerPockets(){this.source=t.BIGGER_POCKETS}setZillow(){this.source=t.ZILLOW}}e.exports={Rent:t}},712:e=>{e.exports={Zillow:class{constructor(e=null){this.rawData=e,this.dataMapping={zpid:"hdpData.homeInfo.zpid",type:"statusType",address:this._fetchAddress,zipcode:"hdpData.homeInfo.zipcode",city:"hdpData.homeInfo.city",state:"hdpData.homeInfo.state",url:this._fetchUrl,price:"hdpData.homeInfo.price",bedrooms:"hdpData.homeInfo.bedrooms",bathrooms:"hdpData.homeInfo.bathrooms",homeSize:"hdpData.homeInfo.livingArea",lotSize:this._fetchLotSize,homeType:"hdpData.homeInfo.homeType",yearBuilt:"",latitude:"hdpData.homeInfo.latitude",longitude:"hdpData.homeInfo.longitude",taxAssessedValue:"hdpData.homeInfo.taxAssessedValue",zestimate:"hdpData.homeInfo.zestimate",rentZestimate:"hdpData.homeInfo.rentZestimate",updatedAt:this._fetchUpdatedAt}}fetch(e){const t=this.jsonDataUrlFor(e);return fetch(t).then((e=>e.json())).then((e=>(this.rawData=e,e)))}summaryCsvData(){const{address:e,bedrooms:t,average:r,median:s,average_size:a,median_size:n,data_points:i}=this.summary();return[[e,t,r,s,a,n,i]]}summary(){const e=this.mappedData();return{address:e.find((e=>e.zipcode.match(/^\d{5}$/)))&&e.find((e=>e.zipcode.match(/^\d{5}$/))).zipcode,bedrooms:e.find((e=>e.bedrooms>0))&&e.find((e=>e.bedrooms>0)).bedrooms,average:this.averagePrice(e),median:this.medianPrice(e),"25th":this.median25thPrice(e),"75th":this.median75thPrice(e),average_size:this.averageSize(e),median_size:this.medianSize(e),data_points:this.dataPoints(e)}}query(){if(!this.rawData)return"";const e=(this.rawData.searchPageSeoObject&&this.rawData.searchPageSeoObject.windowTitle).match(/^(.+) Real Estate/);return e&&e[1]}csvData(){return this.mappedData().map((e=>Object.values(e)))}jsonDataUrlFor(e){return`https://www.zillow.com/search/GetSearchPageState.htm?${e.match(/(.+)\?(.+)/)[2]}&wants={%22cat1%22:[%22listResults%22,%22mapResults%22]}&requestId=3`}averagePrice(e){const t=e.map((e=>parseInt(e.price))).filter((e=>e>0));return this._average(t)}medianPrice(e){const t=e.map((e=>parseInt(e.price))).filter((e=>e>0));return this._median(t)}median25thPrice(e){const t=e.map((e=>parseInt(e.price))).filter((e=>e>0));return this._median25th(t)}median75thPrice(e){const t=e.map((e=>parseInt(e.price))).filter((e=>e>0));return this._median75th(t)}averageSize(e){const t=e.map((e=>parseInt(e.homeSize))).filter((e=>e>0));return this._average(t)}medianSize(e){const t=e.map((e=>parseInt(e.homeSize))).filter((e=>e>0));return this._median(t)}dataPoints(e){return e.map((e=>parseInt(e.price))).filter((e=>e>0)).length}_average(e){if(0===e.length)return-1;const t=e.reduce(((e,t)=>e+t))/e.length;return 1e3*Math.round(t/1e3)}_median(e){if(0==e.length)return-1;e.sort(((e,t)=>e-t));const t=Math.floor(e.length/2);return e.length%2==1?e[t]:(e[t-1]+e[t])/2}_median25th(e){return 0==e.length?-1:(e.sort(((e,t)=>e-t)),e[Math.ceil(.25*e.length)-1])}_median75th(e){return 0==e.length?-1:(e.sort(((e,t)=>e-t)),e[Math.ceil(.75*e.length)-1])}mappedData(){const e=this._getMapResults();return this._getMappedMapResults(e)}_getMapResults(){return this._getDataByPath(this.rawData,"cat1.searchResults.mapResults")}_getMappedMapResults(e){const t=[];for(let r=0;r<e.length;r++){let s={};Object.keys(this.dataMapping).forEach((t=>{const a=this.dataMapping[t];s[t]=this._getDataByPath(e[r],a)})),t.push(s)}return t}_getDataByPath(e,t){switch(typeof t){case"string":const r=t.split(".");if(0===r.length)return"-";for(let t=0;t<r.length;t++){if(!e)return"-";e=e[r[t]]}return e;case"function":return t.bind(this)(e);default:return t}}_fetchAddress(e){return e.detailUrl.split("/")[2].replaceAll("-"," ")}_fetchUrl(e){return e.detailUrl?"https://www.zillow.com"+e.detailUrl:""}_fetchLotSize(e){const t=this._getDataByPath(e,"hdpData.homeInfo.lotAreaValue"),r=this._getDataByPath(e,"hdpData.homeInfo.lotAreaUnit");return"sqft"===r?t:"acres"===r?Math.floor(43560*t):"-"}_fetchUpdatedAt(e){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}}}},52:(e,t,r)=>{const{Storage:s}=r(800),{Renderer:a}=r(754),{COLORS:n}=r(559),{rentToPrice:i,toPercent:o}=r(325),{currentProperty:c}=r(230);class d{constructor(e){this.storage=e}static async annotate(){const e=await s.create(),t=new d(e);await t.annotate()}async annotate(){this.annotateAddress(),await this.renderDaysOnMarketChip(),await this.renderSizeChip(),await this.renderBPRentCalculatorLink(),await this.renderHomeSummary(),await this.renderInterestedButton()}async renderHomeSummary(){const e=c(),t=await this.storage.findRents(e.address);if(e&&t.length>0){const r={Year:e.yearBuilt,"Days on Market":e.daysOnMarket};t.forEach((t=>{r["Rent / "+t.source]=t.median,r["Ratio / "+t.source]=o(i(t.median,e.price))})),a.render(r)}else console.log("No analysis done for this property")}async renderInterestedButton(){const e="interested-button";if(document.querySelector("#"+e))return;const t=document.createElement("button");t.setAttribute("id",e);const r=async()=>{t.innerText="Interested",t.style.cssText=`background-color: ${n.green}; border-radius: 5px; margin-left: 15px; margin-top: 10px; border: none; padding: 5px 10px`,await this.storage.interest(this.getAddress()),a=!0},s=async()=>{t.innerText="Interested?",t.style.cssText="background-color: white; border-radius: 5px; margin-left: 15px; margin-top: 10px; border: 1px solid; padding: 5px 10px",await this.storage.uninterest(this.getAddress()),a=!1};let a=await this.storage.isInterested(this.getAddress());const i=a?"Interested":"Interested?",o=a?`background-color: ${n.green}; border-radius: 5px; margin-left: 15px; margin-top: 10px; border: 1px solid ${n.green}; padding: 5px 10px`:"background-color: white; border-radius: 5px; margin-left: 15px; margin-top: 10px; border: 1px solid; padding: 5px 10px";t.innerText=i,t.style.cssText=o,t.addEventListener("click",(async()=>{a?await s():await r()})),document.querySelector(".summary-container").querySelector('[data-renderstrat="inline"]').insertAdjacentElement("afterend",t)}async renderDaysOnMarketChip(){const e=c(),t=e.daysOnMarket>0?30*Math.floor(e.daysOnMarket/30):-1;t>=30?this.addChip("size-chip",`DOM: ${t}+`,n.green):this.addChip("size-chip","DOM < 30",n.red)}async renderSizeChip(){const e=c();e.sqft<0||(e.isLargeSize()?this.addChip("size-chip","Size: L",n.green):e.isSmallSize()?this.addChip("size-chip","Size: S",n.red):this.addChip("size-chip","Size: M",n.gray))}async renderBPRentCalculatorLink(){const e=c();if(!e)return;const t=`https://www.biggerpockets.com/insights/locations?validated_address_search%5Baddress%5D=${e.address}+++&validated_address_search%5Bstructure_type%5D=&validated_address_search%5Bbeds%5D=${e.bedrooms}&validated_address_search%5Bbaths%5D=${e.bathrooms}&adjust_details=true&commit=Adjust+details`;this.addLink("bp-rent-calculator",t)}addLink(e,t){if(document.querySelector("#"+e))return;const r=document.createElement("a");r.href=t,r.target="_blank",r.innerText="BP Rent",r.style.cssText="border: 1px solid; border-radius: 5px; padding: 6px 10px; margin-left: 15px;",document.querySelector(".summary-container").querySelector('[data-renderstrat="inline"]').insertAdjacentElement("afterend",r)}addChip(e,t,r){if(document.querySelector("#"+e))return;const s=document.createElement("span");s.innerText=t,s.style.cssText=`border: 1px solid ${r}; border-radius: 5px; padding: 6px 10px; margin-left: 15px; background-color: ${r}`,document.querySelector(".summary-container").querySelector('[data-renderstrat="inline"]').insertAdjacentElement("afterend",s)}annotateAddress(){const e=document.querySelector(".summary-container h1"),t=e.innerText,r=document.createElement("a");r.href=`https://www.google.com/maps?q=${encodeURIComponent(t)}`,r.target="_blank",r.innerText=t,e.innerHTML="",e.appendChild(r)}getAddress(){return document.querySelector(".summary-container h1").innerText}getElementById(e){return[...document.querySelectorAll("."+mapDotClassName)].find((t=>{if(t[Object.getOwnPropertyNames(t).find((e=>e.startsWith("__reactInternalInstance")))].return.return.key===e)return console.log("FOUND"),t}))}}e.exports={HomeDetailsAnnotator:d}},128:e=>{e.exports={MapAnnotator:class{annotate(){}annotateMap(e,t){const r=t.median,s=t["25th"],a=t["75th"];this.getMapDotClassNames().forEach((t=>{const n=[...document.querySelectorAll("."+t)],i={};n.forEach((e=>{i[this.getZillowIdByElement(e)]=e})),e.forEach((e=>{const t=i[e.zpid.toString()];t&&(e.price>a?t.style.cssText=t.style.cssText+"background: #db3a00;":e.price>=r?t.style.cssText=t.style.cssText+"background: #ff9800;":e.price>=s?t.style.cssText=t.style.cssText+"background: #ffeb3b;":t.style.cssText=t.style.cssText+"background: #4caf50;")}))}))}getZillowIdByElement(e){return e[Object.getOwnPropertyNames(e).find((e=>e.startsWith("__reactInternalInstance")))].return.return.key}getMapDotClassNames(){return["property-dot","property-pill"]}}}},559:e=>{e.exports={PROPERTY_ATTRIBTUES:["address","city","state","zipcode","homeType","price","bedrooms","bathrooms","yearBuilt","sqft","daysOnMarket","propertyTaxes"],COLORS:{gray:"#e5e5e5",green:"#69f0ae",red:"#ff8a80"}}},970:(e,t,r)=>{const{Storage:s}=r(800),{Deal:a}=r(537);e.exports={DealAnalyzer:class{static async goodDeals(e=.7){const t=await s.create(),r=await t.properties();return(await Promise.all(r.map((async r=>{const s=await t.findRents(r.address);return new a({property:r,rents:s,percentThreshold:e}).isGood()?r:null})))).filter((e=>null!==e))}static async isGoodDeal(e,t=.7){const r=await s.create(),n=await r.findProperty(e);if(!n)return;const i=await r.findRents(n.address);return new a({property:n,rents:i,percentThreshold:t}).isGood()}}}},325:e=>{e.exports={rentToPrice:function(e,t){return e<=0||t<=0?-1:parseFloat((e/t).toFixed(4))},toDollar:function(e){return e<0?"N/A":e.toLocaleString("en-US",{style:"currency",currency:"USD"}).replace(/\.\d{2}$/,"")},toPercent:function(e){return e<0?"N/A":(100*e).toFixed(2)+"%"},average:function(e){if(0===e.length)return-1;const t=e.reduce(((e,t)=>e+t))/e.length;return 1e3*Math.round(t/1e3)},median:function(e){if(0==e.length)return-1;e.sort(((e,t)=>e-t));const t=Math.floor(e.length/2);return e.length%2==1?e[t]:(e[t-1]+e[t])/2},pct25th:function(e){return 0==e.length?-1:(e.sort(((e,t)=>e-t)),e[Math.ceil(.25*e.length)-1])},pct75th:function(e){return 0==e.length?-1:(e.sort(((e,t)=>e-t)),e[Math.ceil(.75*e.length)-1])}}},74:(e,t,r)=>{const{PROPERTY_ATTRIBTUES:s}=r(559),{Property:a}=r(643);class n{static parse(){const e=new n;return new a(e.summary)}get summary(){const e={};return s.forEach((t=>{e[t]=this[t]})),e}get property(){}get address(){return document.querySelector(".summary-container h1").innerText}get zipcode(){const e=(this.address||"").match(/\d{5}$/);return e?e[0]:"N/A"}get price(){return this.parseValue(document.querySelector(".summary-container [data-testid='price']").innerText)}get bedrooms(){const e=document.querySelector('[data-testid="bed-bath-beyond"]').innerText.match(/(\d) bd/);return e?parseInt(e[1]):-1}get bathrooms(){const e=document.querySelector('[data-testid="bed-bath-beyond"]').innerText.match(/(\d) ba/);return e?parseInt(e[1]):-1}get yearBuilt(){const e=document.querySelector(".ds-data-view-list").innerText.match(/built in (\d{4})/i);return e?parseInt(e[1]):-1}get sqft(){const e=document.querySelector('[data-testid="bed-bath-beyond"]').innerText.match(/([\d|,]{4,7}) sqft/);return e?this.parseValue(e[1]):-1}get propertyTaxes(){const e=document.querySelector(".ds-data-view-list").innerText.replaceAll("\n","").match(/property taxes\$([\d|,]+)/i);return e?this.parseValue(e[1]):-1}get daysOnMarket(){const e=document.querySelector(".ds-data-view-list").innerText.replaceAll("\n","").match(/([\d|,]+) dayson zillow/i);return e?this.parseValue(e[1]):-1}get homeType(){const e=document.querySelector(".data-view-container").innerText.match(/single family residence|townhouse|triplex|duplex/gi);return e?e[0]:"N/A"}parseValue(e){return parseInt(e.replace(/\$|,/g,""))}}e.exports={HomeDetailsParser:n}},849:(e,t,r)=>{const{Rent:s}=r(326),{average:a,median:n,pct25th:i,pct75th:o}=r(325);class c{constructor(){return new s({address:this.address,zipcode:this.zipcode,bedrooms:this.bedrooms,average:this.average,median:this.median,pct25th:this.pct25th,pct75th:this.pct75th,count:this.count,source:null})}static parse(){}get address(){}get zipcode(){}get bedrooms(){}get average(){}get median(){}get pct25th(){}get pct75th(){}get count(){}parseValue(e){return parseInt(e.replaceAll("$","").replaceAll(",",""))}}class d extends c{static parse(){const e=new d;return e.setRentometer(),e}get address(){return this.useAddress()?document.querySelector("#address_unified_search_address").value.replace(/, USA$/,""):null}get zipcode(){if(this.useZipcode()){const e=document.querySelector("h3.result-address-header").innerText.replace(/quickview/i,"").trim().match(/\d{5}$/);return e&&e[0]}return null}get bedrooms(){return parseInt(document.querySelector("select#zip_unified_search_bed_style").value)}get average(){return this.parseValue(document.querySelector("[title='Sample Mean']").innerText)}get median(){return this.parseValue(document.querySelector("[title='Sample Median']").innerText)}get pct25th(){return this.parseValue(document.querySelector("[title^='This is the estimated value of the 25th']").innerText)}get pct75th(){return this.parseValue(document.querySelector("[title^='This is the estimated value of the 75th']").innerText)}get count(){const e=document.querySelector("#active-results-container").innerText.replaceAll("\n","").match(/Results based on (\d+), .* within (\d+) months/);return parseInt(e[1])}useAddress(){return!!document.querySelector(".search-type-tab.active a").innerText.trim().match(/address/i)}useZipcode(){return!!document.querySelector(".search-type-tab.active a").innerText.trim().match(/zip code/i)}}class l extends c{static parse(){const e=new l;return e.setBiggerPockets(),e}get address(){return this.addressText&&5===this.addressText.length?null:this.addressText}get zipcode(){return this.addressText&&5===this.addressText.length?this.addressText:null}get bedrooms(){const e=document.querySelector('[name="validated_address_search[beds]"]');return e&&parseInt(e.value)}get average(){return parseInt(a(this.rents))}get median(){return parseInt(n(this.rents))}get pct25th(){return parseInt(i(this.rents))}get pct75th(){return parseInt(o(this.rents))}get count(){return this.rents.length}get rents(){const e=document.querySelector(".insights-result-comparable-properties-list-content");return e?e.innerText.match(/\$\d{1,3}(?:,\d{3})*(\.\d+)?/g).map((e=>this.parseValue(e))):null}get addressText(){const e=document.querySelector(".insights-result-title");return e&&e.innerText.replace(/\n/g," ")}}class u extends c{static parse(){const e=new u;return e.setZillow(),e}get address(){}get zipcode(){}get bedrooms(){}get average(){}get median(){}get pct25th(){}get pct75th(){}get count(){}}e.exports={RentParser:c,RentometerRentParser:d,BiggerPocketsRentParser:l,ZillowRentParser:u}},754:e=>{class t{static TABLE_ID="zillow-summary-table";static rerender(e){[...document.querySelectorAll("#"+t.TABLE_ID)].forEach((e=>e.remove())),t.render(e)}static render(e){const r=document.createElement("table");r.setAttribute("id",t.TABLE_ID);for(const t in e){const s=document.createElement("tr"),a=document.createElement("td"),n=document.createElement("td");a.innerText=t,n.innerText=e[t],s.appendChild(a),s.appendChild(n),r.appendChild(s)}return document.body.appendChild(r),t.addTableStyles(r),r}static addTableStyles(e){e.style.cssText="z-index: 100000; position: fixed; bottom: 30px; right: 40px; float: right; padding: 10px; background-color: #f2f2f2; border: 1px solid #ccc; opacity: 0.95;",t.addStyles(e,"td","border: 1px solid #ddd; padding: 8px; text-align: left;"),t.addStyles(e,"tr td:first-child","background-color: rgb(216 216 216 / 36%); border: 1px solid #ddd; padding: 8px; text-align: left;"),t.addStyles(e,"th","background-color: #4CAF50; color: white;")}static addStyles(e,t,r){[...e.querySelectorAll(t)].forEach((e=>{e.style.cssText=r}))}}e.exports={Renderer:t}},230:(e,t,r)=>{const{Storage:s}=r(800);e.exports={currentProperty:function(){const e=HomeDetailsParser.parse();return e.address&&e.price&&e.price>0?e:null},savedProperty:async function(){const e=await s.create(),t=HomeDetailsParser.parse(),r=await e.findProperty(t.address);return r?new Property(r):t},currentStorage:async function(){return await s.create()}}},204:e=>{e.exports={Summary:class{constructor({zipcode:e,bedrooms:t,sold:r,forSale:s,rent:a}){this.zipcode=e,this.bedrooms=t,this.soldAverage=r.average,this.soldMedian=r.median,this.forSaleAverage=s.average,this.forSaleMedian=s.median,this.rentAverage=a.average,this.rentMedian=a.median,this.rentToPriceAverage=this.averageRentToPrice(a,r),this.rentToPriceMedian=this.medianRentToPrice(a,r)}getSummary(){return{Zipcode:this.zipcode,Bedrooms:this.bedrooms,"Sold (Average)":this.soldAverage,"Sold (Median)":this.soldMedian,"For Sale (Average)":this.forSaleAverage,"For Sale (Median)":this.forSaleMedian,"Rent (Average)":this.rentAverage,"Rent (Median)":this.rentMedian,"Rent To Price (Average)":this.rentToPriceAverage,"Rent To Price (Median)":this.rentToPriceMedian}}getReadableSummary(){return{zipcode:this.zipcode,bedrooms:this.bedrooms,"Sold (Average)":toDollar(this.soldAverage),"Sold (Median)":toDollar(this.soldMedian),"For Sale (Average)":toDollar(this.forSaleAverage),"For Sale (Median)":toDollar(this.forSaleMedian),"Rent (Average)":toDollar(this.rentAverage),"Rent (Median)":toDollar(this.rentMedian),"Rent To Price (Average)":toPercent(this.rentToPriceAverage),"Rent To Price (Median)":toPercent(this.rentToPriceMedian)}}getCsvData(e){return[[e,this.bedrooms,this.soldAverage,this.soldMedian,sold.average_size,sold.median_size,sold.data_points,this.forSaleAverage,this.forSaleMedian,this.forSaleAverage_size,this.forSaleMedian_size,this.forSaleData_points,this.rentAverage,this.rentMedian,this.rent25th,this.rent75th,this.rentData_points,this.rentToPriceAverage,this.rentToPriceMedian,(new Date).toISOString()]]}averageRentToPrice(e,t){return this.rentToPrice(e.average,t.average)}medianRentToPrice(e,t){return this.rentToPrice(e.median,t.median)}rentToPrice(e,t){const r=e/t;return r>0?r:-1}}}},822:(e,t,r)=>{const s=r(857);e.exports={entry:{app:"./src/app.js"},output:{filename:"app.min.js",path:s.resolve("/","dist"),libraryTarget:"window"}}},454:(e,t,r)=>{var s={"./package":147,"./package-lock":959,"./package-lock.json":959,"./package.json":147,"./scripts/update_paths":588,"./scripts/update_paths.js":588,"./src/app":672,"./src/app.js":672,"./src/db/storage":800,"./src/db/storage.js":800,"./src/models/deal":537,"./src/models/deal.js":537,"./src/models/property":643,"./src/models/property.js":643,"./src/models/rent":326,"./src/models/rent.js":326,"./src/services/zillow":712,"./src/services/zillow.js":712,"./src/utils/annotators/home_details_annotator":52,"./src/utils/annotators/home_details_annotator.js":52,"./src/utils/annotators/map_annotator":128,"./src/utils/annotators/map_annotator.js":128,"./src/utils/constants":559,"./src/utils/constants.js":559,"./src/utils/deal_analyzer":970,"./src/utils/deal_analyzer.js":970,"./src/utils/helpers":325,"./src/utils/helpers.js":325,"./src/utils/parsers/home_details_parser":74,"./src/utils/parsers/home_details_parser.js":74,"./src/utils/parsers/rent_parser":849,"./src/utils/parsers/rent_parser.js":849,"./src/utils/renderer":754,"./src/utils/renderer.js":754,"./src/utils/session":230,"./src/utils/session.js":230,"./src/utils/summary":204,"./src/utils/summary.js":204,"./webpack.config":822,"./webpack.config.js":822};function a(e){var t=n(e);return r(t)}function n(e){if(!r.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=n,e.exports=a,a.id=454},65:()=>{},203:()=>{},857:()=>{},959:e=>{"use strict";e.exports=JSON.parse('{"name":"rei-automation","version":"1.0.0","lockfileVersion":2,"requires":true,"packages":{"":{"name":"rei-automation","version":"1.0.0","license":"ISC","devDependencies":{}}}}')},147:e=>{"use strict";e.exports=JSON.parse('{"name":"rei-automation","version":"1.0.0","description":"","main":"app.js","directories":{"lib":"lib"},"scripts":{"test":"echo \\"Error: no test specified\\" && exit 1","build":"node scripts/update_paths.js && (rm dist/app.min.js || true) && webpack --mode production","amend":"npm run build && git add . && git commit --amend --no-edit && git push -f","commit":"npm run build && git add . && git commit"},"repository":{"type":"git","url":"git+https://github.com/synergychen/rei-automation.git"},"author":"","license":"ISC","bugs":{"url":"https://github.com/synergychen/rei-automation/issues"},"homepage":"https://github.com/synergychen/rei-automation#readme","devDependencies":{},"browser":{"fs":false,"path":false,"os":false}}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__=__webpack_require__(672),__webpack_export_target__=window;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})();